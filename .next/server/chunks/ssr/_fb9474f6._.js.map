{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/tejas/Documents/Devloper/secodbrain-www/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,ucACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///Users/tejas/Documents/Devloper/secodbrain-www/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { serverUrl } from \"@/environment\";\n\n\n\ntype Memory = {\n  id: string;\n  content: string;\n  createdAt: string;\n};\n\nexport default function RootPage() {\n  const [content, setContent] = useState(\"\");\n  const [memories, setMemories] = useState<Memory[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [chatQuery, setChatQuery] = useState(\"\");\n  const [chatResponse, setChatResponse] = useState(\"\");\n  const [chatLoading, setChatLoading] = useState(false);\n\n  // Fetch memories\n  const fetchMemories = async () => {\n    try {\n      const res = await fetch(`${serverUrl}/memories`, {\n        credentials: \"include\",\n      });\n      const data = await res.json();\n      if (data.memories) setMemories(data.memories);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchMemories();\n  }, []);\n\n  // Add or update memory\n  const handleSubmit = async () => {\n    if (!content.trim()) return;\n\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      if (editingId) {\n        // Update functionality placeholder (PUT or PATCH to be implemented later)\n        alert(\"Edit functionality not implemented in backend yet.\");\n      } else {\n        const res = await fetch(`${serverUrl}/memories`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          credentials: \"include\",\n          body: JSON.stringify({ content }),\n        });\n        const data = await res.json();\n        if (data.memory) {\n          setContent(\"\");\n          setMemories([data.memory, ...memories]);\n        } else {\n          setError(data.error || \"Failed to add memory\");\n        }\n      }\n    } catch (err) {\n      setError(\"Something went wrong\");\n    } finally {\n      setLoading(false);\n      setEditingId(null);\n    }\n  };\n\n  // Delete memory\n  const handleDelete = async (id: string) => {\n    if (!confirm(\"Are you sure you want to delete this memory?\")) return;\n\n    try {\n      const res = await fetch(`${serverUrl}/memories/${id}`, {\n        method: \"DELETE\",\n        credentials: \"include\",\n      });\n\n      const data = await res.json();\n      if (data.message) {\n        setMemories((prev) => prev.filter((m) => m.id !== id));\n      } else {\n        alert(data.error || \"Failed to delete memory\");\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Ask chatbot\n  const handleChatSubmit = async () => {\n    if (!chatQuery.trim()) return;\n    setChatLoading(true);\n    setChatResponse(\"\");\n\n    try {\n      const res = await fetch(`${serverUrl}/chat?q=${encodeURIComponent(chatQuery)}`, {\n        method: \"GET\",\n        credentials: \"include\",\n      });\n\n      const data = await res.json();\n      if (data.summary) {\n        setChatResponse(data.summary);\n      } else {\n        setChatResponse(\"No answer found.\");\n      }\n    } catch (err) {\n      console.error(err);\n      setChatResponse(\"Error fetching response.\");\n    } finally {\n      setChatLoading(false);\n    }\n  };\n\n  return (\n    <main className=\"max-w-3xl mx-auto mt-10 px-4\">\n      <h1 className=\"text-3xl font-bold mb-6\">Memory Assistant</h1>\n\n      {/* Memory Input */}\n      <div className=\"mb-6\">\n        <Textarea\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n          placeholder={editingId ? \"Edit memory...\" : \"Add a new memory...\"}\n          rows={4}\n          className=\"mb-3\"\n        />\n        <Button onClick={handleSubmit} disabled={loading}>\n          {editingId ? (loading ? \"Saving...\" : \"Update Memory\") : loading ? \"Saving...\" : \"Save Memory\"}\n        </Button>\n        {editingId && (\n          <Button variant=\"ghost\" className=\"ml-2\" onClick={() => {\n            setEditingId(null);\n            setContent(\"\");\n          }}>\n            Cancel\n          </Button>\n        )}\n        {error && <p className=\"text-red-500 mt-2\">{error}</p>}\n      </div>\n\n      {/* Chatbox */}\n      <div className=\"mb-10 bg-muted p-4 rounded-xl shadow\">\n        <h2 className=\"text-xl font-semibold mb-4\">Ask your memory assistant</h2>\n        <Textarea\n          value={chatQuery}\n          onChange={(e) => setChatQuery(e.target.value)}\n          placeholder=\"Ask a question...\"\n          rows={4}\n          className=\"mb-3\"\n        />\n        <Button onClick={handleChatSubmit} disabled={chatLoading}>\n          {chatLoading ? \"Thinking...\" : \"Ask\"}\n        </Button>\n        {chatResponse && (\n          <div className=\"mt-4 p-3 bg-background border rounded-lg text-sm whitespace-pre-line\">\n            <strong>Answer:</strong>\n            <div className=\"mt-1\">{chatResponse}</div>\n          </div>\n        )}\n      </div>\n\n      {/* Memory List */}\n      <h2 className=\"text-2xl font-semibold mb-4\">Your Memories</h2>\n      {memories.length === 0 ? (\n        <p className=\"text-gray-600\">No memories yet.</p>\n      ) : (\n        <ul className=\"space-y-4\">\n          {memories.map((m) => (\n            <li\n              key={m.id}\n              className=\"p-4 border border-gray-300 rounded-xl shadow-sm bg-white relative\"\n            >\n              <p>{m.content}</p>\n              <p className=\"text-xs text-gray-500 mt-2\">\n                {new Date(m.createdAt).toLocaleString()}\n              </p>\n              <div className=\"absolute top-2 right-2 flex gap-2\">\n                <Button size=\"sm\" variant=\"outline\" onClick={() => {\n                  setContent(m.content);\n                  setEditingId(m.id);\n                }}>\n                  Edit\n                </Button>\n                <Button size=\"sm\" variant=\"destructive\" onClick={() => handleDelete(m.id)}>\n                  Delete\n                </Button>\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}